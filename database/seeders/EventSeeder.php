<?php

namespace Database\Seeders;

use App\Models\Event;
use App\Models\User;
use Carbon\Carbon;
use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;

class EventSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        $users = User::all();

        if ($users->isEmpty()) {
            $this->command->error('‚ùå Veuillez d\'abord cr√©er des utilisateurs !');
            return;
        }

        $events = [
            [
                'title' => 'Repair Caf√© Tunis - R√©parons Ensemble',
                'description' => "Venez r√©parer vos objets du quotidien au lieu de les jeter ! Notre Repair Caf√© est un √©v√©nement convivial o√π b√©n√©voles et visiteurs se retrouvent pour r√©parer ensemble toutes sortes d'objets.\n\nCe que vous pouvez apporter :\n- Appareils √©lectroniques\n- V√™tements √† raccommoder\n- Petits meubles\n- V√©los\n- Jouets\n\nNos b√©n√©voles experts vous aideront √† diagnostiquer et r√©parer vos objets. C'est gratuit, convivial et √©cologique !\n\nPas besoin d'√™tre bricoleur, venez juste avec vos objets √† r√©parer et votre bonne humeur !",
                'type' => 'repair_cafe',
                'date_start' => Carbon::now()->addDays(7)->setTime(14, 0),
                'date_end' => Carbon::now()->addDays(7)->setTime(18, 0),
                'location' => 'Fab Lab ENSI, La Manouba, Tunis',
                'max_participants' => 25,
                'price' => 0,
                'status' => 'published',
                'image' => null,
                'user_id' => $users->random()->id,
            ],
            [
                'title' => 'Atelier Upcycling : Transformez vos Textiles',
                'description' => "Apprenez √† transformer vos vieux v√™tements en cr√©ations tendance !\n\nAu programme :\n- Techniques de base de couture\n- Transformation de jeans en sacs\n- Cr√©ation de coussins avec des t-shirts\n- Patchwork cr√©atif\n\nMat√©riel fourni :\n- Machines √† coudre\n- Fils, aiguilles, ciseaux\n- Patrons et mod√®les\n\n√Ä apporter :\n- Vieux v√™tements en bon √©tat\n- Votre cr√©ativit√© !\n\nNiveau : D√©butant accept√©\nEncadrement par des couturi√®res professionnelles.",
                'type' => 'workshop',
                'date_start' => Carbon::now()->addDays(10)->setTime(10, 0),
                'date_end' => Carbon::now()->addDays(10)->setTime(13, 0),
                'location' => 'Maison des Jeunes, Sfax Centre',
                'max_participants' => 15,
                'price' => 10.00,
                'status' => 'published',
                'image' => null,
                'user_id' => $users->random()->id,
            ],
            [
                'title' => 'Grande Collecte D√©chets √âlectroniques',
                'description' => "Participez √† notre grande collecte de d√©chets √©lectroniques et donnez une seconde vie aux composants !\n\nCe que nous collectons :\n- Ordinateurs et laptops\n- T√©l√©phones et tablettes\n- Imprimantes et scanners\n- C√¢bles et chargeurs\n- Petits appareils √©lectrom√©nagers\n- Composants √©lectroniques\n\nCe que nous faisons :\n- Tri et d√©montage\n- R√©cup√©ration des composants fonctionnels\n- Recyclage √©cologique des d√©chets\n- R√©paration et don aux √©coles\n\nVenez en √©quipe, en famille ou seul. Caf√© et collations offerts !\n\nChaque kilo collect√© = 2kg CO2 √©conomis√©s",
                'type' => 'collection',
                'date_start' => Carbon::now()->addDays(14)->setTime(9, 0),
                'date_end' => Carbon::now()->addDays(14)->setTime(17, 0),
                'location' => 'Place Pasteur, Tunis Centre (Parking disponible)',
                'max_participants' => 50,
                'price' => 0,
                'status' => 'published',
                'image' => null,
                'user_id' => $users->random()->id,
            ],
            [
                'title' => 'Formation : Compostage Urbain pour D√©butants',
                'description' => "D√©couvrez comment transformer vos d√©chets organiques en or noir pour votre jardin !\n\nAu programme :\n- Principes du compostage\n- Que composter et que ne pas composter\n- Compostage en appartement (bokashi, lombricomposteur)\n- Compostage au jardin\n- Utilisation du compost\n- Solutions aux probl√®mes courants\n\nFormation th√©orique et pratique avec d√©monstrations en direct.\n\nCadeaux :\n- Guide pratique du compostage\n- √âchantillon de compost m√ªr\n- Liste des points de compost collectif √† Tunis\n\nPour tous : particuliers, √©coles, restaurants.",
                'type' => 'training',
                'date_start' => Carbon::now()->addDays(16)->setTime(15, 0),
                'date_end' => Carbon::now()->addDays(16)->setTime(17, 0),
                'location' => 'Parc Belv√©d√®re, Tunis (Pr√®s de l\'entr√©e principale)',
                'max_participants' => 30,
                'price' => 5.00,
                'status' => 'published',
                'image' => null,
                'user_id' => $users->random()->id,
            ],
            [
                'title' => 'Atelier Cr√©ation de Meubles en Palettes',
                'description' => "Transformez des palettes r√©cup√©r√©es en meubles design pour votre maison !\n\nVous apprendrez √† cr√©er :\n- Table basse industrielle\n- √âtag√®res murales\n- Jardini√®res\n- Banc d\'ext√©rieur\n\nTechniques enseign√©es :\n- D√©montage s√©curis√© des palettes\n- Pon√ßage et traitement du bois\n- Assemblage et vissage\n- Finitions (peinture, vernis)\n\nMat√©riel fourni :\n- Palettes\n- Outils √©lectriques\n- Vis et quincaillerie\n- Produits de finition\n\n√Ä apporter : Gants de travail et v√™tements que vous pouvez salir.\n\nR√©alisez votre propre meuble √† ramener chez vous !",
                'type' => 'workshop',
                'date_start' => Carbon::now()->addDays(21)->setTime(9, 0),
                'date_end' => Carbon::now()->addDays(21)->setTime(17, 0),
                'location' => 'Atelier Menuiserie Solidaire, Ben Arous',
                'max_participants' => 12,
                'price' => 25.00,
                'status' => 'published',
                'image' => null,
                'user_id' => $users->random()->id,
            ],
            [
                'title' => 'Collecte et Plantation d\'Arbres - Journ√©e Verte',
                'description' => "Journ√©e sp√©ciale environnement : le matin collecte de d√©chets, l'apr√®s-midi plantation d'arbres !\n\nProgramme de la journ√©e :\n\nüåÖ MATIN (8h-12h) : Collecte de d√©chets\n- Nettoyage de la for√™t de Bou Kornine\n- Tri sur place des d√©chets\n- Pes√©e et comptabilisation\n\nüçΩÔ∏è 12h-13h : D√©jeuner bio offert\n\nüå≥ APR√àS-MIDI (13h-17h) : Plantation\n- Plantation de 200 arbres fruitiers\n- Techniques de plantation et entretien\n- Installation de syst√®mes d\'irrigation goutte-√†-goutte\n\nFourni :\n- Gants, sacs poubelle, outils\n- Eau et collations\n- Transport depuis Tunis (optionnel)\n- Certificat de participation\n\nVenez en famille ! Activit√©s pour enfants pr√©vues.",
                'type' => 'collection',
                'date_start' => Carbon::now()->addDays(28)->setTime(8, 0),
                'date_end' => Carbon::now()->addDays(28)->setTime(17, 0),
                'location' => 'For√™t de Bou Kornine, Ben Arous (RDV parking Hammamet Yasmine)',
                'max_participants' => 80,
                'price' => 0,
                'status' => 'published',
                'image' => null,
                'user_id' => $users->random()->id,
            ],
            [
                'title' => 'Repair Caf√© Sousse - √âlectrom√©nager',
                'description' => "Session sp√©ciale r√©paration d'appareils √©lectrom√©nagers.\n\nNos experts peuvent r√©parer :\n- Cafeti√®res, bouilloires\n- Mixeurs, robots\n- Fers √† repasser\n- Aspirateurs\n- Grille-pain, micro-ondes\n\nService gratuit !\n\nPi√®ces de rechange disponibles √† prix co√ªtant.\n\nConseils d'entretien pour prolonger la vie de vos appareils.\n\nAmbiance conviviale avec caf√© et g√¢teaux maison.",
                'type' => 'repair_cafe',
                'date_start' => Carbon::now()->addDays(12)->setTime(14, 0),
                'date_end' => Carbon::now()->addDays(12)->setTime(18, 0),
                'location' => 'Centre Culturel, Sousse Ville',
                'max_participants' => 20,
                'price' => 0,
                'status' => 'published',
                'image' => null,
                'user_id' => $users->random()->id,
            ],
            [
                'title' => 'Formation DIY : Produits M√©nagers √âcologiques',
                'description' => "Apprenez √† fabriquer vos propres produits m√©nagers z√©ro d√©chet !\n\nRecettes que vous apprendrez :\n- Lessive liquide et en poudre\n- Liquide vaisselle\n- Nettoyant multi-usages\n- D√©tartrant naturel\n- D√©sodorisant maison\n\nIngr√©dients de base fournis :\n- Savon de Marseille\n- Bicarbonate de soude\n- Vinaigre blanc\n- Huiles essentielles\n\nChacun repart avec :\n- Ses produits fabriqu√©s\n- Fiches recettes illustr√©es\n- Conseils d'utilisation et conservation\n\n√âconomies : -70% sur votre budget m√©nager !\n√âcologie : -95% de plastique !",
                'type' => 'training',
                'date_start' => Carbon::now()->addDays(18)->setTime(10, 0),
                'date_end' => Carbon::now()->addDays(18)->setTime(12, 30),
                'location' => 'Espace Associatif, La Marsa',
                'max_participants' => 25,
                'price' => 15.00,
                'status' => 'published',
                'image' => null,
                'user_id' => $users->random()->id,
            ],
            [
                'title' => 'Atelier Poterie avec Argile R√©cup√©r√©e',
                'description' => "Cr√©ez vos propres pots et objets d√©co avec de l'argile r√©cup√©r√©e de chantiers !\n\nTechniques abord√©es :\n- Pr√©paration de l'argile\n- Modelage √† la main (colombin, plaque)\n- Tournage (initiation)\n- D√©coration et √©maillage\n\nCr√©ations possibles :\n- Bols et assiettes\n- Vases et cache-pots\n- Objets d√©coratifs\n\nMat√©riel fourni :\n- Argile et outils\n- Tabliers\n- Four de cuisson\n\nVos cr√©ations seront cuites et disponibles une semaine apr√®s l'atelier.\n\nNiveau : Tous niveaux\nPetit groupe pour un suivi personnalis√©.",
                'type' => 'workshop',
                'date_start' => Carbon::now()->addDays(25)->setTime(14, 0),
                'date_end' => Carbon::now()->addDays(25)->setTime(17, 0),
                'location' => 'Atelier d\'Art, Sidi Bou Said',
                'max_participants' => 10,
                'price' => 20.00,
                'status' => 'published',
                'image' => null,
                'user_id' => $users->random()->id,
            ],
            [
                'title' => 'Hackathon √âconomie Circulaire',
                'description' => "48h pour imaginer et prototyper des solutions innovantes pour l'√©conomie circulaire en Tunisie !\n\nTh√©matiques :\n- Applications mobiles de gestion des d√©chets\n- Marketplace de produits upcycl√©s\n- Syst√®mes de tra√ßabilit√© blockchain\n- IoT pour tri intelligent\n- Gamification du recyclage\n\n√âquipes de 3-5 personnes (d√©veloppeurs, designers, business)\n\nPrix :\nü•á 1er : 3000 DT + Incubation\nü•à 2√®me : 2000 DT\nü•â 3√®me : 1000 DT\n\nFourni :\n- Espace de travail 24h/24\n- Repas et snacks\n- Mentors experts\n- Acc√®s APIs partenaires\n\nInscription par √©quipe.\nPitch final devant jury professionnel.",
                'type' => 'training',
                'date_start' => Carbon::now()->addDays(35)->setTime(9, 0),
                'date_end' => Carbon::now()->addDays(37)->setTime(18, 0),
                'location' => 'Cogite Coworking Space, Lac 2, Tunis',
                'max_participants' => 60,
                'price' => 30.00,
                'status' => 'published',
                'image' => null,
                'user_id' => $users->random()->id,
            ],
            [
                'title' => 'Collecte Textile - Donnez Vos V√™tements',
                'description' => "Grande collecte de textiles pour donner une seconde vie √† vos v√™tements !\n\nNous acceptons :\n‚úÖ V√™tements en bon √©tat\n‚úÖ Chaussures par paires\n‚úÖ Sacs et accessoires\n‚úÖ Linge de maison\n‚úÖ Tissus et chutes\n\nCe que nous en faisons :\n- Don aux associations caritatives\n- Vente en friperie solidaire (prix libres)\n- Transformation en nouveaux v√™tements (upcycling)\n- Recyclage textile pour isolation\n\nLe tri est fait sur place avec vous pour vous expliquer notre d√©marche.\n\nObjectif : 2 tonnes de textile collect√©es !\n\nContribution √©cologique : 1kg textile = 3kg CO2 √©conomis√©s",
                'type' => 'collection',
                'date_start' => Carbon::now()->addDays(20)->setTime(10, 0),
                'date_end' => Carbon::now()->addDays(20)->setTime(16, 0),
                'location' => 'Parking Carrefour, Menzah 6, Tunis',
                'max_participants' => 40,
                'price' => 0,
                'status' => 'published',
                'image' => null,
                'user_id' => $users->random()->id,
            ],
            [
                'title' => 'Repair Caf√© Sp√©cial V√©los',
                'description' => "Session d√©di√©e √† la r√©paration et l'entretien de v√©los !\n\nNos m√©caniciens b√©n√©voles vous aident avec :\n- R√©glage freins et vitesses\n- Changement chambres √† air\n- R√©paration crevaisons\n- Graissage et nettoyage\n- R√©glage direction et selle\n- Remplacement c√¢bles\n\nPi√®ces d√©tach√©es disponibles :\n- Chambres √† air\n- C√¢bles de freins/vitesses\n- Patins de frein\n- Sonnettes et lumi√®res\n(√† prix co√ªtant)\n\nVenez aussi pour :\n- Apprendre l'entretien de base\n- Conseils s√©curit√© routi√®re\n- Marquage antivol Bicycode\n\nAmbiance conviviale, caf√© offert !\n\nApportez votre v√©lo et repartez en toute s√©curit√©.",
                'type' => 'repair_cafe',
                'date_start' => Carbon::now()->addDays(15)->setTime(9, 0),
                'date_end' => Carbon::now()->addDays(15)->setTime(13, 0),
                'location' => 'Association V√©lorution, Bab El Khadra, Tunis',
                'max_participants' => 30,
                'price' => 0,
                'status' => 'published',
                'image' => null,
                'user_id' => $users->random()->id,
            ],
            [
                'title' => 'Formation Permaculture et Jardinage Urbain',
                'description' => "D√©couvrez la permaculture et cr√©ez votre jardin urbain productif !\n\nAu programme :\n\nTh√©orie (2h) :\n- Principes de la permaculture\n- Design de jardin urbain\n- Associations de plantes\n- Compostage et mulching\n- Gestion de l'eau\n\nPratique (3h) :\n- Cr√©ation d'un carr√© potager\n- Plantation de l√©gumes de saison\n- Installation goutte-√†-goutte\n- Semis et repiquage\n- Fabrication de semis en recyclage\n\nChacun repart avec :\n- Kit de d√©marrage (graines, plants)\n- Guide pratique illustr√©\n- Plan de jardin personnalis√©\n\nPour tous : balcon, terrasse ou jardin !\n\nFormateur : Ing√©nieur agronome sp√©cialis√© en permaculture urbaine.",
                'type' => 'training',
                'date_start' => Carbon::now()->addDays(30)->setTime(9, 0),
                'date_end' => Carbon::now()->addDays(30)->setTime(14, 0),
                'location' => 'Jardin Partag√© Bhar Lazreg, La Goulette',
                'max_participants' => 20,
                'price' => 25.00,
                'status' => 'published',
                'image' => null,
                'user_id' => $users->random()->id,
            ],
            [
                'title' => 'Atelier Z√©ro D√©chet - Cosm√©tiques Maison',
                'description' => "Apprenez √† fabriquer vos cosm√©tiques naturels sans plastique !\n\nRecettes que vous r√©aliserez :\n- D√©odorant solide\n- Dentifrice naturel\n- Shampoing solide\n- Baume √† l√®vres\n- Cr√®me hydratante\n- Savon surgras\n\nIngr√©dients naturels fournis :\n- Huiles v√©g√©tales bio\n- Beurres v√©g√©taux\n- Huiles essentielles\n- Argiles\n- Cires naturelles\n\nChacun repart avec :\n- Ses 6 cosm√©tiques fabriqu√©s\n- Recettes d√©taill√©es\n- Pochettes en tissu recycl√©\n- Guide des ingr√©dients naturels\n\nB√©n√©fices :\nüí∞ -80% sur budget cosm√©tiques\nüåç Z√©ro d√©chet plastique\nüåø 100% naturel et sain\n\nNiveau : D√©butant accept√©",
                'type' => 'workshop',
                'date_start' => Carbon::now()->addDays(22)->setTime(14, 0),
                'date_end' => Carbon::now()->addDays(22)->setTime(17, 30),
                'location' => 'Espace Bien-√™tre Bio, Ennasr, Ariana',
                'max_participants' => 18,
                'price' => 35.00,
                'status' => 'published',
                'image' => null,
                'user_id' => $users->random()->id,
            ],
            [
                'title' => 'Collecte Bouteilles Plastique - Projet Art Public',
                'description' => "Collecte participative pour cr√©er une sculpture g√©ante en bouteilles plastique !\n\nLe projet :\nCr√©ation d'une ≈ìuvre d'art monumentale (5m de haut) avec 10 000 bouteilles plastique pour sensibiliser au recyclage.\n\nNous collectons :\n- Bouteilles plastique 0.5L √† 2L\n- Bouchons de toutes couleurs\n- Propres et vides\n\nD√©roulement :\n- 9h-12h : Collecte et tri par couleur\n- 12h-13h : Pause d√©jeuner (sandwichs offerts)\n- 13h-17h : Assemblage avec artistes\n\nSculpture finale :\nExpos√©e sur l'Avenue Habib Bourguiba pendant 1 mois !\n\nTous participants seront mentionn√©s sur une plaque.\n\nActivit√©s enfants pr√©vues : peinture sur bouteilles.\n\nVenez nombreux pour ce projet artistique et √©cologique !",
                'type' => 'collection',
                'date_start' => Carbon::now()->addDays(40)->setTime(9, 0),
                'date_end' => Carbon::now()->addDays(40)->setTime(17, 0),
                'location' => 'Place de la R√©publique, Tunis (Esplanade)',
                'max_participants' => 100,
                'price' => 0,
                'status' => 'published',
                'image' => null,
                'user_id' => $users->random()->id,
            ],
        ];

        foreach ($events as $event) {
            Event::create($event);
        }

        $this->command->info('‚úÖ ' . count($events) . ' √©v√©nements cr√©√©s avec succ√®s !');
    }
};
